<!-- <mat-card class="upload-container mat-card">
    <div class="inner-container">
      <div class="container">
        <mat-card class="full-height">
          <mat-card-content>
            <div class="file-drop-zone" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
              <img src="https://imagetolink.com/ib/GvTbWETI7J.jpg" alt="Cloud Upload" class="upload-icon">
              <p>Drag and drop</p>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div class="container1">
        <mat-card class="full-height">
          <mat-card-content>
            <b>Choose a file</b><br>
            <button mat-raised-button color="primary" (click)="fileInput.click()">Browse your files</button>
            <input type="file" #fileInput (change)="onFileSelected($event)" hidden accept=".pdf,.docx,.pptx,.xlsx" />
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  
    <div *ngIf="file" class="mt-3 common-upload-section">
      <mat-progress-bar mode="determinate" [value]="uploadProgress"></mat-progress-bar>
      <button mat-raised-button color="primary" class="w-100 mt-3" (click)="onUpload()">Upload</button>
    </div>
  
    <div *ngIf="translatedFileUrl" class="mt-3">
      <button mat-raised-button color="accent" class="w-100" (click)="downloadPDF()">Download Translated PDF</button>
      <pdf-viewer [src]="translatedFileUrl" *ngIf="translatedFileUrl" [render-text]="true" style="display: block; width: 100%; height: 500px;"></pdf-viewer>
    </div>
  </mat-card>
   -->
  <!-- <body>
   <div class="incident-toolbar">
    <img src="https://imagetolink.com/ib/Z88qkx8XRQ.jpg" alt="User" class="user-avatar">
    <span>Document Translator</span>
    <span class="spacer"></span>
    <span class="user-info">
      
    </span>
  </div>
  <div class="incident-toolbar1">
 
 <i style="font-size: small;font-weight: lighter;color: grey;">Instantly Translate any PDF from Arabic to English</i>
  
      
  </div>
  
   
    <div class="inner-container">
      <div class="left-side">
        <div class="container">
          <mat-card class="full-height">
            <mat-card-content>
              <div class="file-drop-zone" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
                <img src="https://imagetolink.com/ib/qcTOLXVzTD.png" alt="Cloud Upload" class="upload-icon">
                <p>Drag and drop</p>
                <p style="font-size: small;font-weight: lighter;color: grey;">Right-to-Left (RTL) Language Support</p>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="incident-toolbar2">
 
            <b style="font-size: 12px;font-weight:bold;color: rgb(255, 255, 255);"> ‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎Or </b>
             
             </div>
        <div  class="mt-3 common-upload-section">
         
              <button mat-raised-button color="primary"  class="w-100 mt-3  transparent-button" (click)="fileInput.click()">Choose your files</button>
              <input type="file" #fileInput (change)="onFileSelected($event)" hidden accept=".pdf,.docx,.pptx,.xlsx" />
           
        </div>
  
        <div *ngIf="file" class="mt-3 common-upload-section">
          <mat-progress-bar mode="determinate" [value]="uploadProgress"></mat-progress-bar>
          <button mat-raised-button color="primary" class="w-100 mt-3  transparent-button" (click)="onUpload()">Upload</button>
        </div>
  
        <div *ngIf="translatedFileUrl" class="mt-3 common-upload-section">
          <button mat-raised-button color="accent" class="w-100 mt3  transparent-button" (click)="downloadPDF()">Download Translated PDF</button>
        </div>
      </div>
  
      <div class="right-side" *ngIf="translatedFileUrl">
        <pdf-viewer [src]="translatedFileUrl" [render-text]="true" style="width: 100%; height: 100%;"></pdf-viewer>
      </div>
    </div>

  </body> -->

<!-- 
  <body>
    <div class="incident-toolbar">
      <img src="https://imagetolink.com/ib/Z88qkx8XRQ.jpg" alt="User" class="user-avatar">
      <span>Document Translator</span>
      <span class="spacer"></span>
      <span class="user-info"></span>
    </div>
    <div class="incident-toolbar1">
      <i style="font-size: small;font-weight: lighter;">Instantly Translate any PDF from Arabic to English</i>
    </div>
    <div class="inner-container">
      <div class="left-side">
        <div class="container">
          <mat-card class="full-height">
            <mat-card-content>
              <div class="file-drop-zone" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
                <img src="https://imagetolink.com/ib/qcTOLXVzTD.png" alt="Cloud Upload" class="upload-icon">
                <p>Drag and drop</p>
                <i style="font-size: small;font-weight: lighter;">Right-to-Left (RTL) Language Support</i>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <br>
        <div class="incident-toolbar2">
          <b style="font-size: 12px;font-weight:bold;color: rgb(255, 255, 255);"> ‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎Or </b>
        </div>
        <div class="mt-3 common-upload-section">
          <button mat-raised-button color="primary" class="w-100 mt-3 transparent-button" (click)="fileInput.click()">Choose your Arabic PDF</button>
          <input type="file" #fileInput (change)="onFileSelected($event)" hidden accept=".pdf,.docx,.pptx,.xlsx" />
        </div>
        <div *ngIf="file" class="mt-3 common-upload-section">
          <mat-progress-bar mode="determinate"  [value]="uploadProgress"></mat-progress-bar>
          <button mat-raised-button color="primary" class="w-100 mt-3 transparent-button" (click)="onUpload()">Upload </button>
        </div>
        <div *ngIf="translatedFileUrl" class="mt-3 common-upload-section1">
          <button mat-raised-button color="accent" class="w-100 mt3 transparent-button1" (click)="downloadPDF()">Download Translated PDF</button>
        </div>
      </div>
      <div class="right-side" *ngIf="translatedFileUrl">
        <pdf-viewer [src]="translatedFileUrl" [render-text]="true" style="width: 100%; height: 100%;"></pdf-viewer>
      </div>
    </div>
  </body>
   -->

   <body  [class.dark-mode]="isDarkMode">
    <div class="incident-toolbar">
      <img src="https://imagetolink.com/ib/Z88qkx8XRQ.jpg" alt="User" class="user-avatar">
      <span>Document Translator</span>
      <span class="spacer"></span>
      <span class="user-info">
   
    <span style="font-weight: 400;">Abdullah</span>
    <span>‎ ‎ ‎|‎ ‎ ‎‎</span>
    <img src="https://imagetolink.com/ib/OquMI5z1sC.jpg" alt="User" class="user-avatar">
    <span class="user-info"></span>
    <span>‎ ‎ ‎‎ ‎ ‎‎‎ ‎‎‎ ‎‎</span>
   
    <!-- <button (click)="toggleTheme()">{{ isDarkMode ? 'Light Mode' : 'Dark Mode' }}</button> -->
   
    <button mat-icon-button (click)="toggleTheme()">
          <mat-icon>{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</mat-icon>
        </button>
      </span>
    </div>
    <div class="incident-toolbar1">
      <i style="font-size: small;font-weight: lighter;">Instantly Translate any PDF from Arabic to English</i>
    </div>
    <div class="inner-container">
      <div class="left-side">
        <div class="container">
          <mat-card class="full-height">
            <mat-card-content>
              <div class="file-drop-zone" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
                <img src="https://imagetolink.com/ib/qcTOLXVzTD.png" alt="Cloud Upload" class="upload-icon">
                <p>Drag and drop</p>
                <i style="font-size: small;font-weight: lighter;">Right-to-Left (RTL) Language Support</i>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <br>
        <div class="incident-toolbar2">
          <b style="font-size: 12px;font-weight:bold;color: rgb(255, 255, 255);"> ‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎‎ ‎ ‎Or </b>
        </div>
        <div class="mt-3 common-upload-section">
          <button mat-raised-button color="primary" class="w-100 mt3 transparent-button1" (click)="fileInput.click()">Choose file</button>
          <input type="file" #fileInput (change)="onFileSelected($event)" hidden accept=".pdf,.docx,.pptx,.xlsx" />
        </div>
        <div *ngIf="file" class="mt-3 common-upload-section">
          <div class="upload-progress-container">
            <button mat-raised-button color="primary" class="transparent-button" (click)="onUpload()">Upload</button>
            <div class="progress-container">
              <div class="progress">
                <div class="progress-bar animated-stripes" [style.width.%]="uploadProgress"> <span class="progress-label">{{uploadProgress}}%</span></div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="translationProgress > 0" class="mt-3 common-upload-section">
          <div class="upload-progress-container">
            <button mat-raised-button color="primary" class="transparent-button">Translation Progress</button>
            <div class="progress-container">
              <div class="progress">
                <div class="progress-bar animated-stripes" [style.width.%]="translationProgress"> <span class="progress-label">{{translationProgress}}%</span></div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="translatedFileUrl" class="mt-3 common-upload-section1">
          <button mat-raised-button color="accent" class="w-100 mt3 transparent-button1" (click)="downloadPDF()">Download</button>
          <br><button mat-raised-button color="primary" class="w-100 mt3 transparent-button1" (click)="previewPDF()">Preview</button>
        </div>
       
      </div>
      <div class="right-side">
        <div *ngIf="isTranslating; else pdfViewer" class="spinner-container">
          <!-- <mat-spinner></mat-spinner> -->
          <div class="spinner"></div>
        </div>
        <ng-template #pdfViewer>
          <pdf-viewer *ngIf="showPreview && translatedPDFUrl" [src]="translatedPDFUrl" [render-text]="true" style="width: 100%; height: 100%;"></pdf-viewer>
        </ng-template>
       
      </div>
      </div>
      <div class="table-container">
        <h4 style="text-align: center; margin-bottom: 2px;font-weight: 400;background-color: rgb(66, 61, 210);">Translation History</h4>
        <table mat-table [dataSource]="dataSource" >
         
          <ng-container matColumnDef="fileName">
            <th mat-header-cell *matHeaderCellDef style="background-color: #6390ff;"> File Name </th>
            <td mat-cell *matCellDef="let element" style="background-color: #99afff;color: rgb(0, 0, 0);font-weight: 500;"> {{element.file_name}} </td>
          </ng-container>
          <ng-container matColumnDef="downloadLink">
            <th mat-header-cell *matHeaderCellDef style="background-color: #6390ff;"> Download </th>
            <td mat-cell *matCellDef="let element" style="background-color: #99afff;color: rgb(0, 0, 0);font-weight: 500;">
              <a [href]="element.download_link" download>Download</a>
            </td>
          </ng-container>
          <ng-container matColumnDef="fileFormat">
            <th mat-header-cell *matHeaderCellDef style="background-color: #6390ff;"> File format </th>
            <td mat-cell *matCellDef="let element" style="background-color: #99afff;color: rgb(0, 0, 0);font-weight: 500;"> {{element.initial_format}} </td>
          </ng-container>
         
          <ng-container matColumnDef="translationDate">
            <th mat-header-cell *matHeaderCellDef style="background-color: #6390ff;"> Translation Date </th>
            <td mat-cell *matCellDef="let element" style="background-color: #99afff;color: rgb(0, 0, 0);;font-weight: 500;"> {{element.translation_date}} </td>
          </ng-container>
     
          <ng-container matColumnDef="translationTime">
            <th mat-header-cell *matHeaderCellDef style="background-color: #6390ff;"> Translation Time </th>
            <td mat-cell *matCellDef="let element" style="background-color: #99afff;color: rgb(0, 0, 0);;font-weight: 500;"> {{element.translation_time}} </td>
          </ng-container>
     
   
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
     
   
    </body>